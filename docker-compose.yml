services:
  api:
    build:
      context: .
      dockerfile: api/Dockerfile
    environment:
      API_MAX_WIDTH: "240"
      API_RATE_LIMIT: "20"
      API_RATE_WINDOW: "1m"
    expose:
      - "8081"

  web:
    build:
      context: .
      dockerfile: web/Dockerfile
    depends_on:
      - api
    ports:
      - "8080:80"
